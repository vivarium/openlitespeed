<!DOCTYPE html>
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <title>Open LiteSpeed Web Server Users' Manual - Server Log</title>
  <meta name="description" content="Open LiteSpeed Web Server Users' Manual - Server Log." />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="noindex">
  <link rel="shortcut icon" href="../img/favicon.ico" />
  <link rel="stylesheet" type="text/css" href="../css/hdoc.css">
</head>
<body>
<div class="pagewrapper clearfix"><aside class="sidetree ls-col-1-5">
  <figure>
    <img src="img/ols_logo.svg" alt="openlitespeed logo" width="150px"/>
  </figure>
  <h3 class="ls-text-thin">OpenLiteSpeed Web Server <a href="index.html"> Users' Manual</a></h3>
  <h5 class="ls-text-muted">Version 1.5 &nbsp;&#8212;&nbsp;Rev. 9</h5>
  <hr/>
  <div>
    <ul>
      <li><a href="license.html">License</a></li>
      <li><a href="intro.html">Introduction</a></li>
      <li><a href="install.html">Installation</a></li>
      <li>
        <a href="admin.html">Administration</a>
        <ul class="level2">
          <li><a href="ServerStat_Help.html">Service Manager</a></li>
        </ul>
      </li>
      <li><a href="security.html">Security</a></li>
      <li>
        <a href="config.html">Configuration</a>
        <ul class="level2">
          <li><a href="ServGeneral_Help.html">Server General</a></li>
          <li><span class="current"><a href="ServLog_Help.html">Server Log</a></span></li>
          <li><a href="ServTuning_Help.html">Server Tuning</a></li>
          <li><a href="ServSecurity_Help.html">Server Security</a></li>
          <li><a href="ExtApp_Help.html">External Apps</a></li>
          <ul class="level3">
            <li><a href="External_FCGI.html">Fast CGI App</a></li>
            <li><a href="External_FCGI_Auth.html">Fast CGI Authorizer</a></li>
            <li><a href="External_LSAPI.html">LSAPI App</a></li>
            <li><a href="External_Servlet.html">Servlet Engine</a></li>
            <li><a href="External_WS.html">Web Server</a></li>
            <li><a href="External_PL.html">Piped logger</a></li>
            <li><a href="External_LB.html">Load Balancer</a></li>
          </ul>
          <li><a href="ScriptHandler_Help.html">Script Handler</a></li>
          <li><a href="App_Server_Help.html">App Server Settings</a></li>
          <li><a href="Module_Help.html">Module Configuration</a></li>
          <li><a href="Listeners_General_Help.html">Listener General</a></li>
          <li><a href="Listeners_SSL_Help.html">Listener SSL</a></li>
          <li><a href="Templates_Help.html">Virtual Host Templates</a></li>
          <li><a href="VirtualHosts_Help.html">Virtual Host Basic</a></li>
          <li><a href="VHGeneral_Help.html">Virtual Host General</a></li>
          <li><a href="VHSecurity_Help.html">Virtual Host Security</a></li>
          <li><a href="VHSSL_Help.html">Virtual Host SSL</a></li>
          <li><a href="Rewrite_Help.html">Rewrite</a></li>
          <li><a href="Context_Help.html">Context</a></li>
          <ul class="level3">
            <li><a href="Static_Context.html">Static Context</a></li>
            <li><a href="Java_Web_App_Context.html">Java Web App Context</a></li>
            <li><a href="Servlet_Context.html">Servlet Context</a></li>
            <li><a href="FCGI_Context.html">Fast CGI Context</a></li>
            <li><a href="LSAPI_Context.html">LSAPI Context</a></li>
            <li><a href="Proxy_Context.html">Proxy Context</a></li>
            <li><a href="CGI_Context.html">CGI Context</a></li>
            <li><a href="LB_Context.html">Load Balancer Context</a></li>
            <li><a href="Redirect_Context.html">Redirect Context</a></li>
            <li><a href="App_Server_Context.html">App Server Context</a></li>
            <li><a href="Module_Context.html">Module Handler Context</a></li>
          </ul>
          <li><a href="VHWebSocket_Help.html">Web Socket Proxy</a></li>
        </ul>
      </li>
      <li><a href="webconsole.html">Web Console</a>
        <ul class="level2">
          <li><a href="AdminGeneral_Help.html">Admin Console General</a></li>
          <li><a href="AdminSecurity_Help.html">Admin Console Security</a></li>
          <li><a href="AdminListeners_General_Help.html">Admin Listener General</a></li>
          <li><a href="AdminListeners_SSL_Help.html">Admin Listener SSL</a></li>
        </ul>
      </li>
    </ul>
  </div>
</aside>
<article class="contentwrapper ls-col-3-5 clearfix"><div class="nav-bar ls-spacer-micro-top"><div class="prev">&#171 <a href="ServGeneral_Help.html">Server General</a></div><div class="center"><a href="config.html">Configuration</a></div><div class="next"><a href="ServTuning_Help.html">Server Tuning</a> &#187;</div></div>
<h1>Server Log</h1><h2 id="top">Table of Contents</h2><section class="toc"><section class="toc-row"><header>服务器日志</header><p>
<a href="#log_fileName">文件名</a> | <a href="#log_logLevel">日志级别</a> | <a href="#log_debugLevel">调试级别</a> | <a href="#log_rollingSize">回滚大小</a> | <a href="#log_enableStderrLog">启用标准错误日志（stderr）</a></p></section>
<section class="toc-row"><header>访问日志</header><p>
<a href="#accessLog_fileName">文件名</a> | <a href="#accessLog_pipedLogger">Piped Logger</a> | <a href="#accessLog_logFormat">日志格式</a> | <a href="#accessLog_logHeader">记录头部</a> | <a href="#log_rollingSize">回滚大小</a> | <a href="#accessLog_keepDays">保留天数</a> | <a href="#accessLog_compressArchive">压缩存档</a></p></section>
</section>
<section><div class="helpitem"><article class="ls-helpitem"><div><header id="log_fileName"><h3>文件名<span class="ls-permlink"><a href="#log_fileName"></a></span><span class="top"><a href="#top">&#8657;</a></span></h3></header></div><h4>Description</h4><p>指定日志文件的路径。</p> <h4>Syntax</h4><p>文件2</p> <h4>Tips</h4><p>[性能建议] 将日志文件放置在一个单独的磁盘上。</p> </article> </div>
<div class="helpitem"><article class="ls-helpitem"><div><header id="log_logLevel"><h3>日志级别<span class="ls-permlink"><a href="#log_logLevel"></a></span><span class="top"><a href="#top">&#8657;</a></span></h3></header></div><h4>Description</h4><p>指定日志文件中记录的日志级别。 可用级别（由高到低）为: <span class="val">ERROR</span>、 <span class="val">WARNING</span>、<span class="val">NOTICE</span>、<span class="val">INFO</span>和<span class="val">DEBUG</span>。 只有级别与当前设置相同或更高的消息将被记录（级别越低记录越详细）。</p> <h4>Syntax</h4><p>选项</p> <h4>Tips</h4><p>[性能建议] 使用<span class="val">DEBUG</span>日志级别对 性能没有任何影响，除非<span class="tagl"><a href="#log_debugLevel">调试级别</a></span>没有被设置为<span class="val">NONE</span>.。我们推荐将日志级别设置为<span class="val">DEBUG</span>，将 调试级别值设置为<span class="val">NONE</span>。这样设置意味着你的磁盘不会被调试日志塞满，但是你可以使用<span class="tagl"><a href="ServerStat_Help.html#toggleDebugLog">Toggle Debug Logging</a></span> 控制调试输出。这个操作可以实时启用或关闭调试记录， 对于调试繁忙的生产服务器非常有用。</p> <h4>See Also</h4><p class="ls-text-small"><span class="tagl"><a href="#log_debugLevel">调试级别</a></span></p> </article> </div>
<div class="helpitem"><article class="ls-helpitem"><div><header id="log_debugLevel"><h3>调试级别<span class="ls-permlink"><a href="#log_debugLevel"></a></span><span class="top"><a href="#top">&#8657;</a></span></h3></header></div><h4>Description</h4><p>指定调试日志级别。 要使用此功能，<span class="tagl"><a href="#log_logLevel">日志级别</a></span>必须设置为<span class="val">DEBUG</span>。 在“调试级别”设置为<span class="val">NONE</span>时，即使<span class="tagl"><a href="#log_logLevel">日志级别</a></span> 设置为<span class="val">DEBUG</span>，调试日志也是被禁用的。 在正在运行的服务器上，<span class="tagl"><a href="ServerStat_Help.html#toggleDebugLog">Toggle Debug Logging</a></span>可以被用于 控制调试级别而无需重启。</p> <h4>Syntax</h4><p>选项</p> <h4>Tips</h4><p>[性能建议] 重要！如果你不需要详细的调试日志记录， 应始终将其设置为<span class="val">NONE</span>。启用调试日志记录将严重降低服务性能 ，且可能在很短时间耗尽磁盘空间。 调试日志记录包括每个请求和响应的详细信息。<br/><br/> 我们推荐将日志级别设置为<span class="val">DEBUG</span>，调试级别设置为<span class="val">NONE</span>。 这些设置意味着你的磁盘不会被调试日志塞满， 但是你可以使用<span class="tagl"><a href="ServerStat_Help.html#toggleDebugLog">Toggle Debug Logging</a></span> 控制调试输出。这个动作可以实时启用或关闭调试记录， 对于调试繁忙的生产服务器非常有用。</p> <h4>See Also</h4><p class="ls-text-small"><span class="tagl"><a href="#log_logLevel">日志级别</a></span>, <span class="tagl"><a href="ServerStat_Help.html#toggleDebugLog">Toggle Debug Logging</a></span></p> </article> </div>
<div class="helpitem"><article class="ls-helpitem"><div><header id="log_rollingSize"><h3>回滚大小<span class="ls-permlink"><a href="#log_rollingSize"></a></span><span class="top"><a href="#top">&#8657;</a></span></h3></header></div><h4>Description</h4><p>指定何时日志文件需要回滚，也称为日志循环。 当文件大小超过回滚限制后，在使用的日志文件将在同一目录中被重命名 为log_name.mm_dd_yyyy(.sequence)，一个新的日志文件将被创建。 回滚的日志文件的实际大小有时会比限制值稍微大一些。 将值设置为<span class="val">0</span>将禁用日志循环。</p> <h4>Syntax</h4><p>无符号整数</p> <h4>Tips</h4><p><span title="Information" class="ls-icon-info"></span> 请用“K”，“M”，“G”代表千字节，兆字节和千兆字节。</p> </article> </div>
<div class="helpitem"><article class="ls-helpitem"><div><header id="log_enableStderrLog"><h3>启用标准错误日志（stderr）<span class="ls-permlink"><a href="#log_enableStderrLog"></a></span><span class="top"><a href="#top">&#8657;</a></span></h3></header></div><h4>Description</h4><p>指定在接受到服务器启动的进程输出的标准错误时，是否写入到日志。 如果启用，标准错误信息将记录到服务器日志所在目录内的固定名为“stderr.log”的文件。如果禁用，所有的标准错误输出都将被丢弃。</p> <h4>Syntax</h4><p>布尔值</p> <h4>Tips</h4><p><span title="Information" class="ls-icon-info"></span> 如果您需要调试配置的外部应用程序，如PHP、Ruby、Java、Python、Perl，请开启该功能。</p> </article> </div>
<div class="helpitem"><article class="ls-helpitem"><div><header id="accessLog_fileName"><h3>文件名<span class="ls-permlink"><a href="#accessLog_fileName"></a></span><span class="top"><a href="#top">&#8657;</a></span></h3></header></div><h4>Description</h4><p>指定访问日志文件的文件名。</p> <h4>Syntax</h4><p>文件2</p> <h4>Tips</h4><p>[性能建议] 将访问日志文件放置在一个单独的磁盘上。</p> </article> </div>
<div class="helpitem"><article class="ls-helpitem"><div><header id="accessLog_pipedLogger"><h3>Piped Logger<span class="ls-permlink"><a href="#accessLog_pipedLogger"></a></span><span class="top"><a href="#top">&#8657;</a></span></h3></header></div><h4>Description</h4><p>Specifies the external application that will receive the access log data sent by LiteSpeed through a pipe on its STDIN stream (file handle is 0).  When this field is specified, the access log will be sent only to the logger  application and not the access log file specified in previous entry.<br/><br/> The logger application must be defined in <span class="tagP"><a href="#ExtApp_Help">External Apps</a></span> section first.  Server-level access logging can only use an external logger application  defined at the server level. Virtual host-level access logging can only use a logger application defined at the virtual host level.<br/><br/> The logger process is spawned in the same way as other external  (CGI/FastCGI/LSAPI) processes. This means it will execute as the  user ID specified in the virtual host's <span class="tagl"><a href="VirtualHosts_Help.html#setUidMode">外部应用程序设置UID模式</a></span>  settings and will never run on behalf of a privileged user. <br/><br/> LiteSpeed web server performs simple load balancing among multiple logger  applications if more than one instance of a logger application is configured.  LiteSpeed server always attempts to keep the number of logger applications  as low as possible. Only when one logger application fails to process access  log entries in time will the server attempt to spawn another instance of  the logger application. <br/><br/> If a logger crashes, the web server will start another instance but the  log data in the stream buffer will be lost. It is possible to lose log  data if external loggers cannot keep up with the speed and volume of the log stream.</p> <h4>Syntax</h4><p>Select from drop down list</p> </article> </div>
<div class="helpitem"><article class="ls-helpitem"><div><header id="accessLog_logFormat"><h3>日志格式<span class="ls-permlink"><a href="#accessLog_logFormat"></a></span><span class="top"><a href="#top">&#8657;</a></span></h3></header></div><h4>Description</h4><p> 指定访问日志的格式。 设置之后，它将覆盖<span class="tagl"><a href="#accessLog_logHeader">记录头部</a></span> 的设定。</p> <h4>Syntax</h4><p>字符串。日志格式的语法与Apache 2.0自定义 <a href="http://httpd.apache.org/docs/current/mod/mod_log_config.html#formats" target="_blank" rel="noopener noreferrer">日志格式</a>兼容。</p> <h4>Example</h4><div class="ls-example">一般日志格式（CLF）<br/> 	"%h %l %u %t \"%r\" %>s %b"<br/><br/> 支持虚拟主机的一般日志格式<br/> 	"%v %h %l %u %t \"%r\" %>s %b"<br/><br/> NCSA扩展/组合日志格式<br/> 	"%h %l %u %t \"%r\" %>s %b \"%{Referer}i\" \"%{User-agent}i\" <br/><br/> 记录Foobar的cookie值<br/>    "%{Foobar}C"</div><h4>See Also</h4><p class="ls-text-small"><span class="tagl"><a href="#accessLog_logHeader">记录头部</a></span></p> </article> </div>
<div class="helpitem"><article class="ls-helpitem"><div><header id="accessLog_logHeader"><h3>记录头部<span class="ls-permlink"><a href="#accessLog_logHeader"></a></span><span class="top"><a href="#top">&#8657;</a></span></h3></header></div><h4>Description</h4><p>指定是否记录HTTP请求头: <span class="val">Referer</span>、 <span class="val">UserAgent</span>和<span class="val">Host</span>。</p> <h4>Syntax</h4><p>复选框</p> <h4>Tips</h4><p>[性能建议] 如果你不需要在访问日志中记录这些头部信息，关闭这个功能。</p> <h4>See Also</h4><p class="ls-text-small"><span class="tagl"><a href="#accessLog_logFormat">日志格式</a></span></p> </article> </div>
<div class="helpitem"><article class="ls-helpitem"><div><header id="accessLog_keepDays"><h3>保留天数<span class="ls-permlink"><a href="#accessLog_keepDays"></a></span><span class="top"><a href="#top">&#8657;</a></span></h3></header></div><h4>Description</h4><p>指定访问日志文件将被保存在磁盘上多少天。 只有超出指定天数的回滚日志文件会被删除。 当前的日志文件不会被删除，无论它包含了多少天的数据。 如果你不想自动删除过时的、很旧的日志文件， 将该值设置为<span class="val">0</span>。</p> <h4>Syntax</h4><p>无符号整数</p> </article> </div>
<div class="helpitem"><article class="ls-helpitem"><div><header id="accessLog_compressArchive"><h3>压缩存档<span class="ls-permlink"><a href="#accessLog_compressArchive"></a></span><span class="top"><a href="#top">&#8657;</a></span></h3></header></div><h4>Description</h4><p>指定是否压缩回滚日志以节省磁盘空间。</p> <h4>Syntax</h4><p>布尔值</p> <h4>Tips</h4><p><span title="Information" class="ls-icon-info"></span> 日志文件是高度可压缩的，建议采取压缩以减少旧日志的磁盘占用量。</p> </article> </div>
</section>
</article><div  class="ls-col-1-1"><footer class="copyright">Copyright &copy; 2013-2018. <a href="https://www.litespeedtech.com">LiteSpeed Technologies Inc.</a> All rights reserved.</footer>
</div></div>
</body>
</html>
